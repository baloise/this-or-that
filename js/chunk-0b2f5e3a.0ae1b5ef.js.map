{"version":3,"sources":["webpack:///./src/app/views/AdminContainer.vue?786e","webpack:///./src/app/views/AdminContainer.vue?1e7c","webpack:///./src/app/views/AdminContainer.vue?25a5","webpack:///./src/app/views/AdminContainer.vue?9d19","webpack:///./src/app/views/AdminContainer.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticClass","_v","_s","$route","params","surveyCode","score","perspective","on","$event","back","numberOfUsers","numberOfVotes","scores","_l","item","index","key","imageId","staticStyle","getImageURL","_e","isLoading","staticRenderFns","mounted","stopSurveyIfNotClosed","response","status","$router","push","AdminContainer","components","Footer","Header","QrcodeVue","component"],"mappings":"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","file":"js/chunk-0b2f5e3a.0ae1b5ef.js","sourcesContent":["export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminContainer.vue?vue&type=style&index=0&id=3cd807ac&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"id\":\"admin\"}},[_c('Header'),_c('section',{staticClass:\"hero is-info is-bold is-fullheight-with-navbar\"},[_c('div',{staticClass:\"hero-body\"},[_c('div',{staticClass:\"container\"},[(_vm.score)?_c('div',{staticClass:\"has-text-centered\"},[_c('h3',{staticClass:\"title is-3\"},[_vm._v(\"Your survey: \"+_vm._s(this.$route.params.surveyCode))]),_c('h4',{staticClass:\"subtitle is-4\"},[_vm._v(_vm._s(_vm.score.perspective))]),_c('b-button',{attrs:{\"type\":\"is-info\",\"size\":\"is-medium\",\"inverted\":\"\"},on:{\"click\":function($event){return _vm.back()}}},[_vm._v(\" Back \")]),_c('hr'),_c('nav',{staticClass:\"level\"},[_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(\"Participants\")]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.score.numberOfUsers))])])]),_c('div',{staticClass:\"level-item has-text-centered\"},[_c('div',[_c('p',{staticClass:\"heading\"},[_vm._v(\"Votes\")]),_c('p',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.score.numberOfVotes))])])])]),_c('hr'),(_vm.score && _vm.score.scores)?_c('div',{staticClass:\"columns is-mobile is-multiline\"},_vm._l((_vm.score.scores),function(item,index){return _c('div',{key:item.imageId,staticClass:\"column is-half is-one-quarter-desktop\"},[_c('figure',{staticClass:\"image is-square\",staticStyle:{\"position\":\"relative\"}},[_c('img',{attrs:{\"src\":_vm.getImageURL(item.imageId),\"alt\":'Image ' + (index+1)}}),_c('div',{staticClass:\"score has-text-grey\"},[_vm._v(\"Score: \"),_c('b',[_vm._v(_vm._s(item.score))])])])])}),0):_vm._e()],1):_vm._e()])]),_c('b-loading',{attrs:{\"active\":_vm.isLoading,\"can-cancel\":true,\"is-full-page\":true},on:{\"update:active\":function($event){_vm.isLoading=$event}}})],1),_c('Footer')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {Component, Vue} from 'vue-property-decorator';\nimport {getImageURL, getScore, stopSurvey} from '@/app/api/survey.api';\nimport {ScoreResponse} from '@/app/models/score-response';\nimport QrcodeVue from 'qrcode.vue';\nimport Header from '@/app/components/Header.vue';\nimport Footer from '@/app/components/Footer.vue';\n\n@Component({\n    components: {Footer, Header, QrcodeVue},\n})\nexport default class AdminContainer extends Vue {\n    public isLoading = false;\n    public score: ScoreResponse | null = null;\n\n    public getImageURL(imageId: string) {\n        if (this.score != null) {\n            return getImageURL(this.$route.params.surveyCode, imageId);\n        }\n        return null;\n    }\n\n    public async mounted() {\n        this.isLoading = true;\n        try {\n            await this.stopSurveyIfNotClosed();\n            this.score = await getScore(this.$route.params.surveyCode);\n        } catch (error) {\n            if (\n                'response' in error &&\n                'status' in error.response &&\n                error.response.status === 404\n            ) {\n                this.$router.push('/404');\n                return;\n            }\n            throw error;\n        } finally {\n            this.isLoading = false;\n        }\n    }\n\n    public async stopSurveyIfNotClosed() {\n        try {\n            await stopSurvey(this.$route.params.surveyCode);\n        } catch (error) {\n            if (\n                'response' in error &&\n                'status' in error.response &&\n                error.response.status === 400\n            ) {\n                return;\n            }\n            throw error;\n        }\n    }\n\n    public back() {\n        this.$router.push('/');\n    }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/ts-loader/index.js??ref--12-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AdminContainer.vue?vue&type=template&id=3cd807ac&scoped=true&\"\nimport script from \"./AdminContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./AdminContainer.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AdminContainer.vue?vue&type=style&index=0&id=3cd807ac&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3cd807ac\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}